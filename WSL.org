#+TITLE: WSL Setup

* Be sure to be on WSL 2
** Enable following windows features
- [ ] Virtual Machine Platform
- [ ] Windows subsystem for linux
** Install latest kernel
https://learn.microsoft.com/en-us/windows/wsl/install-manual#step-4---download-the-linux-kernel-update-package
** Set default WSL version to 2
#+BEGIN_SRC
wsl --set-default-version 2
#+END_SRC

* Install ArchWSL2
** Download zip from here
https://github.com/sileshn/ArchWSL2
** Run Arch.exe
** Run Arch.exe again
DON'T CREATE USER WITH SCRIPT
** Create User
#+BEGIN_SRC
passwd
useradd -m -g users -G wheel -s /bin/bash <username>
echo "%wheel ALL=(ALL) ALL" >/etc/sudoers.d/wheel
passwd <username>
exit
#+END_SRC
** add wslu keys
#+BEGIN_SRC sh
wget https://pkg.wslutiliti.es/public.key
pacman-key --add public.key
pacman-key --lsign-key 2D4C887EB08424F157151C493DD50AA7E055D853
#+END_SRC
#+BEGIN_QUOTE
FROM: https://wslutiliti.es/wslu/install.html
#+END_QUOTE
** Update arch
#+BEGIN_SRC
sudo pacman -Sy archlinux-keyring
sudo pacman -Syu
#+END_SRC
** Set default user
#+BEGIN_SRC sh
Arch.exe config --default-user <username>
#+END_SRC
